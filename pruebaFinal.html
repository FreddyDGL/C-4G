<!DOCTYPE html>
<html lang="en">
<head>

    <title>TirosBot</title>
</head>
<body>
    <script>
        
        var tableroBot=[0,1,1,0,0,0,0,1,0,0,0,1,1,0,0]; 
        var tableroJugador=[0,0,1,1,1,0,0,0,0,1,0,1,0,0,0];
        var sumaBot = 0
        let sumaJugador = 0;
        
        do {
        //Tirar Jugador
         console.log("Tablero antes de que se realice el disparo del jugador a bot");
         console.log(tableroBot);
         //let tablero = this.tablero;
         //tamanio del tablero
         let ingresar = prompt("Ingresa la coordenada donde desea disparar el Jugador al Bot");
             if(tableroBot[ingresar]==0){
                 tableroBot[ingresar]=2;
                 alert("Disparaste en una casilla vacia (agua)")   
             }else if(tableroBot[ingresar]==1){
                 tableroBot[ingresar]=3;
                 alert("Disparaste en una casilla con un barco");
             }else if(tableroBot[ingresar]==2){
                 alert("Ya disparaste en esta casilla");
             }else if(tableroBot[ingresar]==3){
                 alert("En esta casilla se encuentra un barco hundido");
             }
             console.log("Tablero despues de disparar el Jugador al bot");
             console.log(tableroBot);
            dispararbot();
            sumarJugador();
            sumaBot();
        }while (sumaJugador != 15 && sumaBot != 15);
                




             function dispararbot()
             {
                 let tamanio = tableroJugador.length;
                 let disparoRamdon = Math.floor(Math.random()*tamanio);
                 console.log("Disparo del bot a la casilla "+ disparoRamdon);
                 console.log("Tablero antes de que se realice el disparo del bot al jugador");
                 console.log(tableroJugador);
                 //tamanio del tablero
                 if(tableroJugador[disparoRamdon]==0){
                     tableroJugador[disparoRamdon]=2;
                     alert("BOT C# Disparaste en una casilla vacia(agua)")   
                 }else if(tableroJugador[disparoRamdon]==1){
                     tableroJugador[disparoRamdon]=3;
                     alert("BOT C# Disparaste en una casilla con un barco");
                 }else if(tableroJugador[disparoRamdon]==2){
                     alert("BOT C# Ya disparaste en esta casilla");
                 }else if(tableroJugador[disparoRamdon]==3){
                     alert("BOT C# Ya disparaste en una casilla con un barco hundido");
                 }
                 console.log("Tablero despues de disparar el BOT C# al Jugador");
                 console.log(tableroJugador);
                
             }


            function sumarJugador(){
                let contadorJugador = tableroBot.filter(Element => Element == 3);
                sumaJugador = 0;
                console.log("Contador de barcos del Jugador");
                console.log(contadorJugador);

                for(let i = 0; i < contadorJugador.length; i++){
                    sumaJugador += contadorJugador[i];
                }
                console.log(sumaJugador);
                if(sumaJugador == 15){
                        alert("Ganaste JUGADOR");
                }
            return this.sumaJugador;
            }

            function sumaBot(){
                let contadorBot = tableroJugador.filter(Element => Element == 3);
                sumaBot = 0;
                console.log("Contador de barcos del Bot");
                console.log(contadorBot);
                for(let i = 0; i < contadorBot.length; i++){
                    sumaBot += contadorBot[i];
                }
                console.log(sumaBot);
                if(sumaBot == 15){
                    alert("GANO EL BOT");
                }
            return this.sumaBot;
            }



    </script>
</body>
</html>